if(!document.getElementById("css-percentage-circle")){var link=document.createElement("link");link.id="css-percentage-circle",link.rel="stylesheet",link.href="https://cdn.rawgit.com/afuersch/css-percentage-circle/c9f4ea10/css/circle.css",document.head.appendChild(link)}UploadArea=function(e,o){var r=this;if(r.divId=e,r.options={allowMultiple:!0,sendTo:"https://posttestserver.com/post.php",progressArea:"UploadAreaProgress",progressColors:{primary:"green",secondary:"blue"},onFilesReceived:function(e){}},r.previousProgressPercentage=0,!e)return void console.error("divId not set... ABORTING!");if(o){optionkeys=Object.keys(o);for(var s=0;s<optionkeys.length;s++)r.options[optionkeys[s]]=o[optionkeys[s]]}setTimeout(function(){var e=document.getElementById(r.divId);e&&(e.addEventListener("dragover",function(e){r.ondragover(e)}),e.addEventListener("drop",function(e){r.ondrop(e)}));var o=document.getElementById(r.options.progressArea);o&&(UploadArea.toggleHidden(r.options.progressArea),o.innerHTML='<div id="cssProgressArea" class="c100 p0"><span id="cssProgressAreaSpan"></span><div class="slice"><div class="bar"></div><div class="fill"></div></div></div>')},500)},UploadArea.prototype.ondragover=function(e){e.preventDefault()},UploadArea.prototype.ondrop=function(e){var o=this;e.preventDefault();var r=e.dataTransfer;if(r.items){for(var s=[],t=0;t<r.items.length;t++){var n=r.items[t];if("file"==n.kind){var a=n.getAsFile();s.push(a)}}o.options.onFilesReceived(s),o.upload(s)}},UploadArea.toggleHidden=function(e){var o=document.getElementById(e);o&&("none"===o.style.display?o.style.display="block":o.style.display="none")},UploadArea.prototype.onProgress=function(e){var o=this;if(e.lengthComputable){var r=Math.floor(e.loaded/e.total*100),s=document.getElementById("cssProgressArea");if(s){var t=document.getElementById("cssProgressAreaSpan");t.innerHTML=r+"%",s.classList.remove("p"+o.previousProgressPercentage),s.classList.add("p"+r)}100==r&&(UploadArea.toggleHidden(o.divId),UploadArea.toggleHidden(o.options.progressArea),o.previousProgressPercentage=0),o.previousProgressPercentage=r}},UploadArea.prototype.upload=function(e){var o=this;if(e&&e.length>0&&e&&e.length>0){for(var r=new FormData,s=0;s<e.length;s++){var t=e[s];r.append(t.name,t)}var n=new XMLHttpRequest;n.open("POST",o.options.sendTo,!0),n.upload.onprogress=function(e){o.onProgress(e)},n.onload=function(){200==this.status},n.send(r),UploadArea.toggleHidden(o.divId),UploadArea.toggleHidden(o.options.progressArea)}};